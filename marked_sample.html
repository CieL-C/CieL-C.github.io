<!DOCTYPE html>
<html>
    <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    <!-- we import arjs version without NFT but with marker + location based support -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <body style="margin : 0px; overflow: hidden;">
        <a-scene embedded arjs>
        <a-marker preset="hiro">
            <a-entity
				id = "hiro-item"
				geometry="primitive: box"
				rotation="0 0 0"
				color="0xff0000"
            ></a-entity>
        </a-marker>
		<a-marker preset="kanji">
            <a-entity
			id = "kanji-item"
			geometry="primitive: box"
            rotation="0 0 0"
			color="0x00ffff"
            ></a-entity>
        </a-marker>
        <a-entity camera></a-entity>
        </a-scene>
		
		<script>
		
		AFRAME.registerComponent('foo', {
		  init: function () {
			// Set up throttling.
			this.throttledFunction = AFRAME.utils.throttle(this.everySecond, 1000, this);
		  },

		  everySecond: function () {
			// Called every second.
			var entity1 = document.querySelector('#hiro-item');
			var entity2 = document.querySelector('#kanji-item');
			
			var color1 = AFRAME.utils.entity.getComponentProperty(entity1, 'color');
			var color2 = AFRAME.utils.entity.getComponentProperty(entity2, 'color');
			
			const d = new Date();
			let time = d.getTime();

			AFRAME.utils.entity.setComponentProperty(entity1, 'color', color2);
			AFRAME.utils.entity.setComponentProperty(entity2, 'color', color1);
		  },
		  
		  tick: function (t, dt) {
			this.throttledFunction();  // Called once a second.
		   },
		});

		
		
		</script>
    </body>
</html>

